<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DREAM CV Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>
<body>
    <div class="container-fluid">
        <!-- Header -->
        <header class="header-section">
            <div class="container">
                <h1><i class="fas fa-file-alt"></i> DREAM CV Generator</h1>
                <p class="lead">Create your professional DREAM CV with AI assistance</p>
            </div>
        </header>

        <div class="main-content">
            <div class="row">
                <!-- Left Panel - Form -->
                <div class="col-lg-7">
                    <div class="form-container">
                        <!-- AI-Powered Resume Upload Section -->
                        <div class="ai-upload-section mb-4">
                            <div class="ai-badge-header">
                                <span class="ai-badge pulsing">ðŸ¤– AI-POWERED</span>
                                <h4>Quick Start: Upload Your Existing Resume</h4>
                            </div>
                            <div id="resumeDropZone" class="resume-drop-zone">
                                <i class="fas fa-cloud-upload-alt fa-3x mb-3"></i>
                                <h5>Drag & Drop Your Resume Here</h5>
                                <p class="text-muted">or click to browse</p>
                                <p class="small text-info"><strong>AI will automatically extract and fill in your details!</strong></p>
                                <input type="file" id="resumeUpload" accept=".pdf,.doc,.docx,.txt" hidden>
                                <button type="button" class="btn btn-outline-primary mt-2" onclick="document.getElementById('resumeUpload').click()">
                                    <i class="fas fa-file-upload"></i> Choose File
                                </button>
                            </div>
                            <div id="uploadProgress" class="upload-progress" style="display: none;">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%"></div>
                                </div>
                                <p class="text-center mt-2 small"><i class="fas fa-robot"></i> AI is analyzing your resume...</p>
                            </div>
                            
                            <!-- Extraction Status Panel -->
                            <div id="extractionStatus" class="extraction-status" style="display: none;">
                                <h6 class="mb-2"><i class="fas fa-clipboard-check"></i> Extraction Summary</h6>
                                <div class="row">
                                    <div class="col-6">
                                        <div class="status-section extracted">
                                            <strong><i class="fas fa-check-circle text-success"></i> Extracted:</strong>
                                            <ul id="extractedSections" class="mb-0 small"></ul>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="status-section remaining">
                                            <strong><i class="fas fa-exclamation-circle text-warning"></i> Needs Input:</strong>
                                            <ul id="remainingSections" class="mb-0 small"></ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="divider-or">
                            <span>OR FILL MANUALLY</span>
                        </div>

                        <form id="cvForm" enctype="multipart/form-data">
                            <!-- Progress Bar -->
                            <div class="progress-container mb-4">
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" style="width: 0%"></div>
                                </div>
                                <small class="text-muted">Complete all sections for the best CV</small>
                            </div>

                            <!-- Section 1: Photo & Personal Details -->
                            <div class="form-section" id="section1">
                                <h3 class="section-header">
                                    <i class="fas fa-user"></i> Personal Details
                                    <span class="badge bg-primary">Required</span>
                                </h3>
                                
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="photo-upload-container">
                                            <label for="photoUpload" class="photo-upload-label">
                                                <div id="photoPreview">
                                                    <i class="fas fa-camera"></i>
                                                    <span>Upload Photo</span>
                                                </div>
                                            </label>
                                            <input type="file" id="photoUpload" name="photo" accept="image/*" hidden>
                                            <input type="hidden" id="photoFilename" name="photo_filename">
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="mb-3">
                                            <label class="form-label">Full Name *</label>
                                            <input type="text" class="form-control" name="full_name" required>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Email *</label>
                                                <input type="email" class="form-control" name="email" required>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Phone *</label>
                                                <input type="tel" class="form-control" name="phone" required>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label"><i class="fab fa-linkedin"></i> LinkedIn URL</label>
                                        <input type="url" class="form-control" name="linkedin" placeholder="https://linkedin.com/in/username">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label"><i class="fab fa-github"></i> GitHub URL</label>
                                        <input type="url" class="form-control" name="github" placeholder="https://github.com/username">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fas fa-globe"></i> Portfolio URL</label>
                                        <input type="url" class="form-control" name="portfolio" placeholder="https://yourportfolio.com">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fab fa-skype"></i> Skype ID</label>
                                        <input type="text" class="form-control" name="skype">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fas fa-map-marker-alt"></i> Address</label>
                                        <input type="text" class="form-control" name="address" placeholder="City, State">
                                    </div>
                                </div>
                                
                                <!-- Professional Summary -->
                                <div class="mb-3">
                                    <label class="form-label"><i class="fas fa-file-alt"></i> Career Objective / Professional Summary</label>
                                    <div class="input-group">
                                        <textarea class="form-control" name="professional_summary" id="professional_summary" rows="3" placeholder="Brief 2-3 sentence summary highlighting your key strengths, experience, and career objectives. This appears at the top of your CV."></textarea>
                                    </div>
                                    <div class="d-flex justify-content-between align-items-center mt-2">
                                        <small class="text-muted">A compelling summary helps recruiters quickly understand your value proposition.</small>
                                        <button type="button" class="btn btn-sm btn-outline-primary" id="generateCareerObjective" onclick="generateCareerObjective()">
                                            <i class="fas fa-magic"></i> AI Generate
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Section 2: DREAM Company -->
                            <div class="form-section dream-section" id="section2">
                                <h3 class="section-header">
                                    <i class="fas fa-star"></i> DREAM Company Details
                                    <span class="badge bg-warning text-dark">Important</span>
                                </h3>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Target Cohort *</label>
                                        <select class="form-select" name="cohort" required>
                                            <option value="">Select Cohort</option>
                                            <option value="Full Stack Developer (Web/Mobile)">Full Stack Developer (Web/Mobile)</option>
                                            <option value="AIML (Artificial Intelligence & Machine Learning)">AIML (Artificial Intelligence & Machine Learning)</option>
                                            <option value="Data Analyst">Data Analyst</option>
                                            <option value="Cyber Security">Cyber Security</option>
                                            <option value="Quality Assurance & Testing">Quality Assurance & Testing</option>
                                            <option value="Game Development">Game Development</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Dream Company *</label>
                                        <input type="text" class="form-control" name="dream_company" placeholder="e.g., Google, Microsoft, Amazon" required>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Target Role *</label>
                                        <input type="text" class="form-control" name="target_role" placeholder="e.g., Software Engineer, Data Scientist" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Target Technology *</label>
                                        <input type="text" class="form-control" name="target_technology" placeholder="e.g., Full Stack, AI/ML, Cloud">
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Expected Package (LPA)</label>
                                    <input type="text" class="form-control" name="expected_package" placeholder="e.g., 12-15 LPA">
                                </div>
                            </div>

                            <!-- Section 3: Academic Qualification -->
                            <div class="form-section" id="section3">
                                <h3 class="section-header">
                                    <i class="fas fa-graduation-cap"></i> Academic Qualification
                                </h3>
                                
                                <div id="qualificationsList">
                                    <div class="qualification-entry mb-3 p-3 border rounded">
                                        <div class="row">
                                            <div class="col-md-4 mb-2">
                                                <label class="form-label">Degree/Level</label>
                                                <input type="text" class="form-control" name="qual_degree[]" placeholder="e.g., B.Tech, 12th, 10th">
                                            </div>
                                            <div class="col-md-4 mb-2">
                                                <label class="form-label">Institution</label>
                                                <input type="text" class="form-control" name="qual_institution[]">
                                            </div>
                                            <div class="col-md-4 mb-2">
                                                <label class="form-label">Board/University</label>
                                                <input type="text" class="form-control" name="qual_board[]">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4 mb-2">
                                                <label class="form-label">Year of Passing</label>
                                                <input type="text" class="form-control" name="qual_year[]" placeholder="2024">
                                            </div>
                                            <div class="col-md-4 mb-2">
                                                <label class="form-label">Percentage/CGPA</label>
                                                <input type="text" class="form-control" name="qual_score[]" placeholder="8.5 CGPA / 85%">
                                            </div>
                                            <div class="col-md-4 mb-2">
                                                <label class="form-label">Duration</label>
                                                <input type="text" class="form-control" name="qual_duration[]" placeholder="2020 - 2024">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="addQualification()">
                                    <i class="fas fa-plus"></i> Add More Qualification
                                </button>
                            </div>

                            <!-- Section 4: Technical Skills -->
                            <div class="form-section" id="section4">
                                <h3 class="section-header">
                                    <i class="fas fa-code"></i> Technical Skills
                                    <span class="ai-badge mini">ðŸ¤– AI</span>
                                    <button type="button" class="btn btn-sm btn-outline-info float-end" onclick="formatSection('technical_skills')">
                                        <i class="fas fa-magic"></i> AI Format
                                    </button>
                                    <button type="button" class="btn btn-sm btn-outline-success float-end me-2" onclick="organizeSkillsForCohort()">
                                        <i class="fas fa-bullseye"></i> Align to DREAM
                                    </button>
                                </h3>
                                
                                <div class="alert alert-info py-2 mb-3" id="skillsHint">
                                    <small><i class="fas fa-lightbulb"></i> <strong>Tip:</strong> Select your Target Cohort in DREAM Company section first, then click "Align to DREAM" to get skill categories tailored for your career path!</small>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label" id="skill_cat1_label">Programming Languages</label>
                                        <input type="text" class="form-control" name="prog_languages" id="prog_languages" placeholder="Python, Java, C++, JavaScript">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label" id="skill_cat2_label">Web Technologies</label>
                                        <input type="text" class="form-control" name="web_tech" id="web_tech" placeholder="React, Node.js, HTML, CSS">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label" id="skill_cat3_label">Databases</label>
                                        <input type="text" class="form-control" name="databases" id="databases" placeholder="MySQL, MongoDB, PostgreSQL">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label" id="skill_cat4_label">Mobile Technologies</label>
                                        <input type="text" class="form-control" name="mobile_tech" id="mobile_tech" placeholder="React Native, Flutter">
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" id="skill_cat5_label">Other Tools & Technologies</label>
                                    <input type="text" class="form-control" name="other_tools" id="other_tools" placeholder="Git, Docker, AWS, Linux">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label"><i class="fas fa-lightbulb text-warning"></i> Planned Skills (To be learned for DREAM Company)</label>
                                    <input type="text" class="form-control" name="planned_skills" placeholder="e.g., Kubernetes, TensorFlow, Azure - Skills you plan to learn">
                                    <small class="text-muted">Skills you're planning to learn that align with your dream company's requirements</small>
                                </div>
                            </div>

                            <!-- Section 5: Internships -->
                            <div class="form-section" id="section5">
                                <h3 class="section-header">
                                    <i class="fas fa-building"></i> Internships
                                    <span class="badge bg-info">Professional Experience</span>
                                </h3>
                                
                                <div id="internshipsList">
                                    <div class="internship-entry mb-3 p-3 border rounded">
                                        <div class="row">
                                            <div class="col-md-6 mb-2">
                                                <label class="form-label">Company Name</label>
                                                <input type="text" class="form-control" name="intern_company[]" placeholder="Google, Microsoft, etc.">
                                            </div>
                                            <div class="col-md-6 mb-2">
                                                <label class="form-label">Role/Position</label>
                                                <input type="text" class="form-control" name="intern_role[]" placeholder="Software Engineering Intern">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 mb-2">
                                                <label class="form-label">Duration</label>
                                                <input type="text" class="form-control" name="intern_duration[]" placeholder="Jan 2024 - Mar 2024">
                                            </div>
                                            <div class="col-md-6 mb-2">
                                                <label class="form-label">Mode</label>
                                                <select class="form-select" name="intern_mode[]">
                                                    <option value="On-site">On-site</option>
                                                    <option value="Remote">Remote</option>
                                                    <option value="Hybrid">Hybrid</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="mb-2">
                                            <label class="form-label">Key Points (3-4 bullet points)</label>
                                            <div class="bullet-inputs">
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="intern_bullet1[]" placeholder="What you worked on / Main responsibility">
                                                </div>
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="intern_bullet2[]" placeholder="Key achievement / Impact made">
                                                </div>
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="intern_bullet3[]" placeholder="Technologies/Skills used">
                                                </div>
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="intern_bullet4[]" placeholder="(Optional) Additional point">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="addInternship()">
                                    <i class="fas fa-plus"></i> Add More Internship
                                </button>
                            </div>

                            <!-- Section 5b: Certifications -->
                            <div class="form-section" id="section5b">
                                <h3 class="section-header">
                                    <i class="fas fa-certificate"></i> Certifications / MOOCs
                                    <span class="badge bg-warning text-dark">Credentials</span>
                                </h3>
                                
                                <div id="certificationsList">
                                    <div class="certification-entry mb-3 p-3 border rounded">
                                        <div class="row">
                                            <div class="col-md-6 mb-2">
                                                <label class="form-label">Certification Title</label>
                                                <input type="text" class="form-control" name="cert_title[]" placeholder="AWS Certified Developer, Machine Learning Specialization">
                                            </div>
                                            <div class="col-md-6 mb-2">
                                                <label class="form-label">Issuing Organization</label>
                                                <input type="text" class="form-control" name="cert_source[]" placeholder="AWS, Coursera, Udemy, NPTEL">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4 mb-2">
                                                <label class="form-label">Issue Date</label>
                                                <input type="text" class="form-control" name="cert_date[]" placeholder="Mar 2024">
                                            </div>
                                            <div class="col-md-4 mb-2">
                                                <label class="form-label">Credential ID</label>
                                                <input type="text" class="form-control" name="cert_id[]" placeholder="ABC123XYZ">
                                            </div>
                                            <div class="col-md-4 mb-2">
                                                <label class="form-label">Type</label>
                                                <select class="form-select" name="cert_type[]">
                                                    <option value="Certification">Certification</option>
                                                    <option value="MOOC">MOOC</option>
                                                    <option value="Training">Training</option>
                                                    <option value="Workshop">Workshop</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="addCertification()">
                                    <i class="fas fa-plus"></i> Add More Certification
                                </button>
                                
                                <!-- Planned Certifications -->
                                <div class="mt-3 p-3 border rounded bg-light">
                                    <label class="form-label"><i class="fas fa-calendar-alt text-primary"></i> <strong>Planned Certifications</strong> (Aligned with Dream Company)</label>
                                    <textarea class="form-control" name="planned_certifications" rows="2" placeholder="e.g., AWS Solutions Architect (Expected: Dec 2024), Google Cloud Professional (Expected: Mar 2025)"></textarea>
                                    <small class="text-muted">Certifications you plan to obtain that align with your dream company's requirements</small>
                                </div>
                            </div>

                            <!-- Section 6: Projects -->
                            <div class="form-section" id="section6">
                                <h3 class="section-header">
                                    <i class="fas fa-project-diagram"></i> Projects / Applications Development
                                    <span class="ai-badge mini">ðŸ¤– AI</span>
                                    <button type="button" class="btn btn-sm btn-outline-info float-end ms-2" onclick="formatSection('projects')">
                                        <i class="fas fa-magic"></i> AI Format
                                    </button>
                                    <button type="button" class="btn btn-sm btn-outline-success float-end" onclick="openNaturalLanguageModal('project')">
                                        <i class="fas fa-comment-dots"></i> Describe in Your Words
                                    </button>
                                </h3>
                                
                                <div id="projectsList">
                                    <div class="project-entry mb-3 p-3 border rounded">
                                        <div class="row">
                                            <div class="col-md-6 mb-2">
                                                <label class="form-label">Project Name</label>
                                                <input type="text" class="form-control" name="proj_name[]">
                                            </div>
                                            <div class="col-md-6 mb-2">
                                                <label class="form-label">Your Role</label>
                                                <input type="text" class="form-control" name="proj_role[]" placeholder="Team Lead, Developer">
                                            </div>
                                        </div>
                                        <div class="mb-2">
                                            <label class="form-label">Project Highlights (3-4 bullet points)</label>
                                            <div class="bullet-inputs">
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="proj_bullet1[]" placeholder="What the project does / Problem it solves">
                                                </div>
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="proj_bullet2[]" placeholder="Your contribution / Key feature you built">
                                                </div>
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="proj_bullet3[]" placeholder="Impact / Users / Results achieved">
                                                </div>
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="proj_bullet4[]" placeholder="(Optional) Additional highlight">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mb-2">
                                            <label class="form-label">Technologies Used</label>
                                            <input type="text" class="form-control" name="proj_tech[]" placeholder="React, Node.js, MongoDB">
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="addProject()">
                                    <i class="fas fa-plus"></i> Add More Project
                                </button>
                            </div>

                            <!-- Section 7: Positions of Responsibility -->
                            <div class="form-section" id="section7">
                                <h3 class="section-header">
                                    <i class="fas fa-users"></i> Positions of Responsibility
                                </h3>
                                
                                <div id="responsibilitiesList">
                                    <div class="responsibility-entry mb-3 p-3 border rounded">
                                        <div class="row">
                                            <div class="col-md-4 mb-2">
                                                <label class="form-label">Role/Position</label>
                                                <input type="text" class="form-control" name="resp_role[]" placeholder="Technical Lead, Club President">
                                            </div>
                                            <div class="col-md-4 mb-2">
                                                <label class="form-label">Organization</label>
                                                <input type="text" class="form-control" name="resp_org[]" placeholder="Coding Club, IEEE Student Branch">
                                            </div>
                                            <div class="col-md-4 mb-2">
                                                <label class="form-label">Duration</label>
                                                <input type="text" class="form-control" name="resp_duration[]" placeholder="Aug 2023 - Present">
                                            </div>
                                        </div>
                                        <div class="mb-2">
                                            <label class="form-label">Key Contributions (2-3 bullet points)</label>
                                            <div class="bullet-inputs">
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="resp_bullet1[]" placeholder="Main responsibility / What you led">
                                                </div>
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="resp_bullet2[]" placeholder="Achievement / Impact made">
                                                </div>
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="resp_bullet3[]" placeholder="(Optional) Additional contribution">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="addResponsibility()">
                                    <i class="fas fa-plus"></i> Add More
                                </button>
                            </div>

                            <!-- Section 8: Extra Curricular Activities -->
                            <div class="form-section" id="section8">
                                <h3 class="section-header">
                                    <i class="fas fa-trophy"></i> Extra Curricular Activities
                                </h3>
                                
                                <div class="mb-3">
                                    <label class="form-label">Community Activities (Bullet Points)</label>
                                    <div class="bullet-inputs" id="communityActivitiesList">
                                        <div class="input-group mb-1">
                                            <span class="input-group-text">â€¢</span>
                                            <input type="text" class="form-control" name="community_activity[]" placeholder="NSS Volunteer - 100+ hours of community service">
                                        </div>
                                        <div class="input-group mb-1">
                                            <span class="input-group-text">â€¢</span>
                                            <input type="text" class="form-control" name="community_activity[]" placeholder="Tech Club Member - Organized coding workshops">
                                        </div>
                                        <div class="input-group mb-1">
                                            <span class="input-group-text">â€¢</span>
                                            <input type="text" class="form-control" name="community_activity[]" placeholder="(Optional) Another activity">
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-outline-secondary btn-sm mt-1" onclick="addCommunityActivity()">
                                        <i class="fas fa-plus"></i> Add More
                                    </button>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Achievements (Bullet Points)</label>
                                    <div class="bullet-inputs" id="achievementsList">
                                        <div class="input-group mb-1">
                                            <span class="input-group-text">â€¢</span>
                                            <input type="text" class="form-control" name="achievement[]" placeholder="1st Place in University Hackathon 2024">
                                        </div>
                                        <div class="input-group mb-1">
                                            <span class="input-group-text">â€¢</span>
                                            <input type="text" class="form-control" name="achievement[]" placeholder="Sports Achievement / Academic Award">
                                        </div>
                                        <div class="input-group mb-1">
                                            <span class="input-group-text">â€¢</span>
                                            <input type="text" class="form-control" name="achievement[]" placeholder="(Optional) Another achievement">
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-outline-secondary btn-sm mt-1" onclick="addAchievement()">
                                        <i class="fas fa-plus"></i> Add More
                                    </button>
                                </div>
                            </div>

                            <!-- Section 9: Language Proficiency -->
                            <div class="form-section" id="section9">
                                <h3 class="section-header">
                                    <i class="fas fa-language"></i> Language Proficiency
                                </h3>
                                
                                <div id="languagesList">
                                    <div class="language-entry mb-2 row">
                                        <div class="col-md-4">
                                            <input type="text" class="form-control" name="lang_name[]" placeholder="Language">
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="checkbox" name="lang_speak[]" value="1">
                                                <label class="form-check-label">Speak</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="checkbox" name="lang_write[]" value="1">
                                                <label class="form-check-label">Write</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="checkbox" name="lang_read[]" value="1">
                                                <label class="form-check-label">Read</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-outline-primary btn-sm mt-2" onclick="addLanguage()">
                                    <i class="fas fa-plus"></i> Add More Language
                                </button>
                            </div>

                            <!-- Section 10: Work Experience -->
                            <div class="form-section" id="section10">
                                <h3 class="section-header">
                                    <i class="fas fa-briefcase"></i> Work Experience
                                </h3>
                                
                                <div id="experiencesList">
                                    <div class="experience-entry mb-3 p-3 border rounded">
                                        <div class="row">
                                            <div class="col-md-6 mb-2">
                                                <label class="form-label">Company</label>
                                                <input type="text" class="form-control" name="exp_company[]">
                                            </div>
                                            <div class="col-md-6 mb-2">
                                                <label class="form-label">Role</label>
                                                <input type="text" class="form-control" name="exp_role[]">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 mb-2">
                                                <label class="form-label">Duration</label>
                                                <input type="text" class="form-control" name="exp_duration[]" placeholder="Jun 2023 - Dec 2023">
                                            </div>
                                            <div class="col-md-6 mb-2">
                                                <label class="form-label">Salary Package</label>
                                                <input type="text" class="form-control" name="exp_salary[]" placeholder="5 LPA">
                                            </div>
                                        </div>
                                        <div class="mb-2">
                                            <label class="form-label">Key Responsibilities (3-4 bullet points)</label>
                                            <div class="bullet-inputs">
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="exp_bullet1[]" placeholder="Main role / Daily responsibilities">
                                                </div>
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="exp_bullet2[]" placeholder="Key project / Achievement">
                                                </div>
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="exp_bullet3[]" placeholder="Impact / Results delivered">
                                                </div>
                                                <div class="input-group mb-1">
                                                    <span class="input-group-text">â€¢</span>
                                                    <input type="text" class="form-control" name="exp_bullet4[]" placeholder="(Optional) Additional responsibility">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="addExperience()">
                                    <i class="fas fa-plus"></i> Add More Experience
                                </button>
                            </div>

                            <!-- Section 11: Digital Existence -->
                            <div class="form-section" id="section11">
                                <h3 class="section-header">
                                    <i class="fas fa-globe"></i> Digital Existence
                                    <span class="badge bg-info">Coding Profiles</span>
                                </h3>
                                
                                <p class="text-muted small mb-3"><i class="fas fa-info-circle"></i> Only fill the platforms you have. Empty fields won't appear in your PDF.</p>
                                
                                <!-- Row 1: LeetCode, GFG, InterviewBit -->
                                <div class="row">
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fas fa-code"></i> LeetCode</label>
                                        <input type="url" class="form-control" name="leetcode" placeholder="https://leetcode.com/username">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fas fa-code"></i> GeeksforGeeks (GFG)</label>
                                        <input type="url" class="form-control" name="gfg" placeholder="https://geeksforgeeks.org/user/username">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fas fa-code"></i> InterviewBit</label>
                                        <input type="url" class="form-control" name="interviewbit" placeholder="https://interviewbit.com/profile/username">
                                    </div>
                                </div>
                                
                                <!-- Row 2: Codeforces, CodeChef, AtCoder -->
                                <div class="row">
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fas fa-code"></i> Codeforces</label>
                                        <input type="url" class="form-control" name="codeforces" placeholder="https://codeforces.com/profile/username">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fas fa-code"></i> CodeChef</label>
                                        <input type="url" class="form-control" name="codechef" placeholder="https://codechef.com/users/username">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fas fa-code"></i> AtCoder</label>
                                        <input type="url" class="form-control" name="atcoder" placeholder="https://atcoder.jp/users/username">
                                    </div>
                                </div>
                                
                                <!-- Row 3: HackerRank, HackerEarth, Codility -->
                                <div class="row">
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fas fa-code"></i> HackerRank</label>
                                        <input type="url" class="form-control" name="hackerrank" placeholder="https://hackerrank.com/username">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fas fa-code"></i> HackerEarth</label>
                                        <input type="url" class="form-control" name="hackerearth" placeholder="https://hackerearth.com/@username">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fas fa-code"></i> Codility</label>
                                        <input type="url" class="form-control" name="codility" placeholder="https://app.codility.com/programmers/profile/username">
                                    </div>
                                </div>
                                
                                <!-- Row 4: CodeSignal, Kaggle, HuggingFace -->
                                <div class="row">
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fas fa-code"></i> CodeSignal</label>
                                        <input type="url" class="form-control" name="codesignal" placeholder="https://app.codesignal.com/profile/username">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fas fa-database"></i> Kaggle</label>
                                        <input type="url" class="form-control" name="kaggle" placeholder="https://kaggle.com/username">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label"><i class="fas fa-robot"></i> HuggingFace</label>
                                        <input type="url" class="form-control" name="huggingface" placeholder="https://huggingface.co/username">
                                    </div>
                                </div>
                                
                                <!-- Other Platforms (Custom) -->
                                <div class="mb-3">
                                    <label class="form-label"><i class="fas fa-plus-circle"></i> Other Platforms</label>
                                    <div id="otherPlatformsList">
                                        <div class="other-platform-entry row mb-2">
                                            <div class="col-md-4">
                                                <input type="text" class="form-control" name="other_platform_name[]" placeholder="Platform Name (e.g., Google Colab)">
                                            </div>
                                            <div class="col-md-7">
                                                <input type="url" class="form-control" name="other_platform_url[]" placeholder="https://platform-url.com/username">
                                            </div>
                                            <div class="col-md-1">
                                                <button type="button" class="btn btn-outline-danger btn-sm" onclick="removeOtherPlatform(this)" style="display:none;">
                                                    <i class="fas fa-times"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-outline-secondary btn-sm mt-1" onclick="addOtherPlatform()">
                                        <i class="fas fa-plus"></i> Add Another Platform
                                    </button>
                                </div>
                                
                                <hr>
                                
                                <!-- Technical Events -->
                                <div class="mb-3">
                                    <label class="form-label"><i class="fas fa-calendar-alt"></i> Technical Events Participated (Bullet Points)</label>
                                    <div class="bullet-inputs" id="techEventsList">
                                        <div class="input-group mb-1">
                                            <span class="input-group-text">â€¢</span>
                                            <input type="text" class="form-control" name="tech_event[]" placeholder="Smart India Hackathon 2024 - Finalist">
                                        </div>
                                        <div class="input-group mb-1">
                                            <span class="input-group-text">â€¢</span>
                                            <input type="text" class="form-control" name="tech_event[]" placeholder="Google Code Jam 2024 - Participant">
                                        </div>
                                        <div class="input-group mb-1">
                                            <span class="input-group-text">â€¢</span>
                                            <input type="text" class="form-control" name="tech_event[]" placeholder="(Optional) Another event">
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-outline-secondary btn-sm mt-1" onclick="addTechEvent()">
                                        <i class="fas fa-plus"></i> Add More
                                    </button>
                                </div>
                                
                                <!-- Community Associations -->
                                <div class="mb-3">
                                    <label class="form-label"><i class="fas fa-users"></i> Community Associations</label>
                                    <textarea class="form-control" name="community_associations" rows="2" placeholder="Google Developer Student Club, Microsoft Learn Ambassador, IEEE Student Member"></textarea>
                                </div>
                            </div>

                            <!-- Action Buttons -->
                            <div class="action-buttons mt-4">
                                <button type="button" class="btn btn-info btn-lg" onclick="getSuggestions()">
                                    <i class="fas fa-robot"></i> Get AI Suggestions
                                    <span class="ai-badge mini ms-2">AI</span>
                                </button>
                                <button type="button" class="btn btn-success btn-lg" onclick="generatePDF()">
                                    <i class="fas fa-file-pdf"></i> Generate PDF
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Right Panel - Preview & Suggestions -->
                <div class="col-lg-5">
                    <div class="preview-panel sticky-top">
                        <div class="card suggestions-card mb-4">
                            <div class="card-header">
                                <i class="fas fa-robot"></i> AI Suggestions
                                <span class="ai-badge mini float-end">ðŸ¤– AI-POWERED</span>
                            </div>
                            <div class="card-body" id="suggestionsContent">
                                <div class="ai-info-box">
                                    <h6><i class="fas fa-info-circle"></i> Where AI Helps You:</h6>
                                    <ul class="ai-feature-list">
                                        <li><i class="fas fa-check-circle"></i> Resume parsing & auto-fill</li>
                                        <li><i class="fas fa-check-circle"></i> Natural language project descriptions</li>
                                        <li><i class="fas fa-check-circle"></i> Section formatting & improvement</li>
                                        <li><i class="fas fa-check-circle"></i> Personalized CV suggestions</li>
                                    </ul>
                                </div>
                                <hr>
                                <p class="text-muted">Fill in your DREAM company details and click "Get AI Suggestions" to receive personalized recommendations.</p>
                            </div>
                        </div>

                        <div class="card preview-card">
                            <div class="card-header">
                                <i class="fas fa-eye"></i> Live Preview
                            </div>
                            <div class="card-body" id="livePreview">
                                <div class="preview-placeholder">
                                    <i class="fas fa-file-alt fa-3x text-muted"></i>
                                    <p>Your CV preview will appear here as you fill in the form</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Modal -->
    <div class="modal fade" id="loadingModal" tabindex="-1" data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body text-center p-5">
                    <div class="spinner-border text-primary mb-3" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <h5 id="loadingMessage">Processing...</h5>
                </div>
            </div>
        </div>
    </div>

    <!-- Natural Language Input Modal -->
    <div class="modal fade" id="naturalLanguageModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-gradient">
                    <h5 class="modal-title">
                        <i class="fas fa-robot"></i> AI-Powered Section Builder
                        <span class="ai-badge mini ms-2">AI</span>
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i> <strong>Describe in your own words!</strong> 
                        The AI will automatically format it into professional resume language.
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label fw-bold">What type of entry are you adding?</label>
                        <select class="form-select" id="nlSectionType">
                            <option value="project">Project</option>
                            <option value="experience">Work Experience</option>
                            <option value="certification">Certification/Training</option>
                            <option value="skill">Skills</option>
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label fw-bold">Describe it in your own words:</label>
                        <textarea class="form-control" id="nlUserInput" rows="6" 
                            placeholder="Example: I made a website for my college fest where students could register online. I used React for frontend and Node.js for backend. Around 500 students registered through it."></textarea>
                        <small class="text-muted">Be as casual as you like - AI will make it professional!</small>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="processNaturalLanguage()">
                        <i class="fas fa-magic"></i> Let AI Format This
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- DREAM CV Generator JavaScript Modules -->
    <script src="{{ url_for('static', filename='js/utils.js') }}"></script>
    <script src="{{ url_for('static', filename='js/form.js') }}"></script>
    <script src="{{ url_for('static', filename='js/upload.js') }}"></script>
    <script src="{{ url_for('static', filename='js/preview.js') }}"></script>
    <script src="{{ url_for('static', filename='js/api.js') }}"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
